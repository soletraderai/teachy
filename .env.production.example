# ===========================================
# QuizTube Production Environment Configuration
# ===========================================
# Copy this file to .env and fill in your production values
# NEVER commit the .env file to version control!

# ===========================================
# Node Environment
# ===========================================
NODE_ENV=production
PORT=3001

# ===========================================
# Database (Supabase PostgreSQL)
# ===========================================
# Get these from: https://supabase.com/dashboard/project/YOUR_PROJECT/settings/database
DATABASE_URL=postgresql://postgres.[project-ref]:[password]@aws-0-[region].pooler.supabase.com:6543/postgres?pgbouncer=true
DIRECT_URL=postgresql://postgres.[project-ref]:[password]@aws-0-[region].pooler.supabase.com:5432/postgres

# ===========================================
# Redis (Internal Docker network)
# ===========================================
# Leave as-is for Docker deployment
REDIS_URL=redis://redis:6379

# ===========================================
# JWT Authentication
# ===========================================
# Generate with: openssl rand -hex 32
JWT_SECRET=your-jwt-secret-here
JWT_REFRESH_SECRET=your-jwt-refresh-secret-here

# ===========================================
# Supabase Configuration
# ===========================================
# Get these from: https://supabase.com/dashboard/project/YOUR_PROJECT/settings/api
SUPABASE_URL=https://[project-ref].supabase.co
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key

# ===========================================
# Google Gemini AI
# ===========================================
# Get from: https://aistudio.google.com/apikey
GEMINI_API_KEY=your-gemini-api-key

# ===========================================
# Stripe Payment Processing
# ===========================================
# Get from: https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=sk_live_your-stripe-secret-key
STRIPE_WEBHOOK_SECRET=whsec_your-webhook-signing-secret
STRIPE_PRICE_MONTHLY=price_your-monthly-price-id
STRIPE_PRICE_YEARLY=price_your-yearly-price-id
STRIPE_TRIAL_PERIOD_DAYS=14

# ===========================================
# Google OAuth
# ===========================================
# Get from: https://console.cloud.google.com/apis/credentials
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret

# ===========================================
# Email Service (Resend)
# ===========================================
# Get from: https://resend.com/api-keys
RESEND_API_KEY=re_your-resend-api-key
EMAIL_FROM=QuizTube <noreply@yourdomain.com>
SMTP_HOST=smtp.resend.com
SMTP_PORT=587
SMTP_USER=resend
SMTP_PASS=re_your-resend-api-key
SMTP_SECURE=true

# ===========================================
# Application URLs
# ===========================================
# Update with your actual domain
FRONTEND_URL=https://yourdomain.com

# ===========================================
# Cron Jobs
# ===========================================
# Generate with: openssl rand -hex 16
CRON_API_KEY=your-cron-api-key

# ===========================================
# Frontend Build Variables (VITE_*)
# ===========================================
# These are used during frontend Docker build
VITE_SUPABASE_URL=https://[project-ref].supabase.co
VITE_SUPABASE_ANON_KEY=your-supabase-anon-key
VITE_API_URL=https://yourdomain.com

# ===========================================
# GitHub Actions Secrets Reference
# ===========================================
# The following secrets should be configured in GitHub:
#
# Server Access:
#   DEPLOY_SSH_KEY     - Private SSH key for deploy user
#   SERVER_HOST        - Droplet IP address
#   SERVER_USER        - deploy
#   DEPLOY_PATH        - /home/deploy/quiztube
#
# URLs:
#   SITE_URL           - https://yourdomain.com
#   API_URL            - https://yourdomain.com/api
#
# All VITE_* variables above should also be added as GitHub secrets
# All other variables should be in the .env file on the server
